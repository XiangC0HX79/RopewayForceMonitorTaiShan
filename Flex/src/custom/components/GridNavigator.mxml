<?xml version="1.0" encoding="utf-8"?>
<s:HGroup xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" 
		 verticalAlign="middle">
	
	<fx:Metadata>
		[Event(name="PageChange", type="flash.events.Event")]
	</fx:Metadata>
	
	<fx:Script>
		<![CDATA[
			import mx.events.FlexEvent;
						
			public static const PAGE_CHANGE:String = "PageChange";
			
			[Bindable]public var pageIndex:Number = 1;		
			
			[Bindable]public var pageCount:Number = 1;	
			
			protected function firstPage_buttonDownHandler(event:FlexEvent):void
			{
				if(pageCount <= 0)
					return;
				
				pageIndex = 1;
				
				dispatchEvent(new Event(PAGE_CHANGE));
			}
			
			protected function prePage_buttonDownHandler(event:FlexEvent):void
			{
				if(pageCount <= 0)
					return;
				
				if(pageIndex - 1 < 1)
					return;
				
				pageIndex--;
				
				dispatchEvent(new Event(PAGE_CHANGE));
				
			}
			
			protected function nextPage_buttonDownHandler(event:FlexEvent):void
			{
				if(pageCount <= 0)
					return;
				
				if(pageIndex + 1 > pageCount)
					return;
				
				pageIndex++;
				
				dispatchEvent(new Event(PAGE_CHANGE));
			}
			
			protected function lastPage_buttonDownHandler(event:FlexEvent):void
			{
				if(pageCount <= 0)
					return;
				
				pageIndex = pageCount;
				
				dispatchEvent(new Event(PAGE_CHANGE));
			}
			
			protected function buttonGo_buttonDownHandler(event:FlexEvent):void
			{
				if(pageCount <= 0)
					return;
				
				if((pageIndex < 1) || (pageIndex > pageCount))
					return;
				
				pageIndex = numPageIndex.value;
				
				dispatchEvent(new Event(PAGE_CHANGE));
			}
		]]>
	</fx:Script>
	<fx:Declarations>
		<!-- 将非可视元素（例如服务、值对象）放在此处 -->
	</fx:Declarations>
	
	<s:Label text="{pageIndex}/{pageCount}"/>
	<s:Button label="首页" buttonDown="firstPage_buttonDownHandler(event)"/>
	<s:Button label="前页" buttonDown="prePage_buttonDownHandler(event)"/>
	<s:Button label="后页" buttonDown="nextPage_buttonDownHandler(event)"/>
	<s:Button label="末页" buttonDown="lastPage_buttonDownHandler(event)"/>
	<s:NumericStepper id="numPageIndex" height="20" minimum="{1}" maximum="{pageCount}"/>
	<s:Button label="GO" buttonDown="buttonGo_buttonDownHandler(event)"/>
</s:HGroup>
